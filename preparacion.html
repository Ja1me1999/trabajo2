<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Trabajo2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="preparacion_files/libs/clipboard/clipboard.min.js"></script>
<script src="preparacion_files/libs/quarto-html/quarto.js"></script>
<script src="preparacion_files/libs/quarto-html/popper.min.js"></script>
<script src="preparacion_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="preparacion_files/libs/quarto-html/anchor.min.js"></script>
<link href="preparacion_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="preparacion_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="preparacion_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="preparacion_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="preparacion_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Trabajo2</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="educacion-y-movilidad-social" class="level2">
<h2 class="anchored" data-anchor-id="educacion-y-movilidad-social">Educacion y Movilidad social</h2>
<p>Nivel Educativo y Movilidad Social Para la sociedad moderna y la sociología actual la movilidad social surge como una problemática social y política esencial para comprender la realidad practica de los sujetos sociales respecto a sus condiciones de clase. La clase se constituye de un sin fin de variables sociales como los pueden ser, la cantidad de integrantes del hogar, el sexo, el género, la edad, el ingreso del hogar, la educación, etc. Todas estas variables pertenecen a la composición de la clase social las que pueden variar dependiendo de la sociedad que se encuentre estudiando.</p>
<p>Para esta investigación nos centraremos en describir que es lo que está ocurriendo con las clases sociales respecto a la capacidad de los individuos para poder ascender o descender entre las diferentes clases sociales, sin embargo las variables que puedan tener relación con la movilidad son variadas como antes mencionado por lo que buscaremos establecer la relación entre “Nivel educativo” y su influencia para la capacidad de poder ejercer la movilidad social, es decir haremos un análisis respecto a la capacidad agencial del nivel educativo para poder influir o no en la movilidad social. La movilidad social que se tratara en esta investigación tendrá una perspectiva de carácter intergeneracional, es decir que se hablara de movilidad social comparando la clase social a la que se pueda pertenecer entre generaciones para asi poder observar si la movilidad social es ascendente, descendente o si esta se mantiene a través del tiempo.</p>
<p>La clase social es un concepto que puesto en el largo tiempo histórico ha sido víctima de distintas transformaciones como bien se señala en <span class="citation" data-cites="erzsebetbukodiMobilityProblemBritain2015">(<a href="#ref-erzsebetbukodiMobilityProblemBritain2015" role="doc-biblioref">Erzsébet Bukodi et al. 2015</a>)</span> las cuales han presenciado el fenómeno de la movilidad social como bien se puede ver en <span class="citation" data-cites="eriksonHasSocialMobility2010">(<a href="#ref-eriksonHasSocialMobility2010" role="doc-biblioref">Erikson and Goldthorpe 2010</a>)</span> propias del paso del tiempo y por supuesto del tipo de sociedad en que nos encontremos. En la actualidad sin duda el concepto de clase es un atributo propio de cada uno de los individuos, ninguno de nosotros es ajeno a dicho concepto, como consecuencia para la sociología el problema de la movilidad social resulta ser de mucho interés, puesto que esta problemática permite identificar una realidad generalizada respecto a la situación de clase en cada individuo. Según John Goldthrope <span class="citation" data-cites="johnh.goldthorpeTrendsIntergenerationalClass2004">(<a href="#ref-johnh.goldthorpeTrendsIntergenerationalClass2004" role="doc-biblioref">John H. Goldthorpe et al. 2004</a>)</span> por lo que es relevante que para la sociología y en particular en esta investigación observemos diferentes variables como la “educación” para poder observar la movilidad social.</p>
<p>En esta investigación buscaremos reconocer y caracterizar la movilidad social, con el fin de identificar como es la movilidad social en la actualidad si es que la hay o no y que efectos pueda tener para la sociedad la presencia o ausencia de esta, asi mismo estableceremos la relevancia del nivel educativo como herramienta necesaria para poder ascender o descender entre las clases sociales dado la relevancia de esta variable según <span class="citation" data-cites="erzsebetbukodiEducationalAttainmentRelative2016">(<a href="#ref-erzsebetbukodiEducationalAttainmentRelative2016" role="doc-biblioref">Erzsébet Bukodi et al. 2016</a>)</span></p>
<p>Como hipótesis de investigación se ha planteado la siguiente afirmación, la educación como herramienta social para poder ascender o descender entre las clases sociales posee una relevancia sustancial entre los sectores medios y bajos.</p>
</section>
<section id="seleccion-de-variables" class="level2">
<h2 class="anchored" data-anchor-id="seleccion-de-variables">Seleccion de variables</h2>
<p>Para trabajar en el analisis se ha decidio utilizar la encuesta de caracterizacion economica (CASEN) del año 2006 para poder hondar en los primeros datos de dicha epoca.</p>
<p>Las variables seleccionadas para esta investigacion se han delimitado a las siguientes (sexo, edad, e8t, r_15) puesto que se pudo construir informacion valiosa respecto a la investigacion con estas variables.</p>
<p><strong>Sexo</strong>: Esta variable dicotomica se refiere al sexo de las observaciones del estudio, distinguiendolo entre mujer o hombre. La inclusión de esta variable nos permite examinar diferencias o similitudes entre hombres y mujeres en relación ccon las demas variable seleccionadas</p>
<p><strong>Edad</strong>: S e ha decidido utilizar la variable de edad para poder establecer distintos rangos etarios (Hombre adulto, Mujer adulta, Mujer mayor, Hombre Mayor) asi establecer comparacion en funcion de los valores que nos entrega esta variable.Por lo tanto, incluir esta variable nos permite explorar cómo diferentes grupos de edad pueden responder o comportarse de manera distinta en relación con nuestras variables de interés.</p>
<p><strong>e8t</strong>: Esta variable representa el nivel educativo logrado por aquellas personas que respondieron la encuesta, sin embargo se ha decidido para el objetivo de este analisis segmentar los niveles educativos entre Educacion basica completa, Educacion Media, Educacion superior completa, Educacion superior incompleta y Postgrado</p>
<p>r_15: Esta variable nos ayudara a delimitar nuestro analisis unicamente para las observaciones tomadas en la region metropolitana, reduciendo asi el nivel de observaciones y permitiendonos agilizar nuestro analisis.</p>
<p>ingreso: Con esta variable buscaremos esclarecer la capacidad de movilidad social respecto del ingreso de la persona encuestada.</p>
<p>Con esta seleccion de variables se buscara establecer la existencia o no de la movilidad social en funcion del nivel educativo que las personas presenten y el ingreso que estas puedan percibir.</p>
<section id="procesamiento-de-datos." class="level3">
<h3 class="anchored" data-anchor-id="procesamiento-de-datos.">Procesamiento de datos.</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Limpiar entorno --------------------------------------------------------------</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar paquetes --------------------------------------------------------------</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, sjmisc, sjPlot, ggplot2)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar datos -----------------------------------------------------------------</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>datos_proc <span class="ot">=</span> <span class="fu">readRDS</span>(<span class="st">"Output/casen2006.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tabla-1.1" class="level3">
<h3 class="anchored" data-anchor-id="tabla-1.1">Tabla 1.1</h3>
<p>Acontinuacion expondremos los datos en diferentes tablas para tener una mejor perspectiva respecto al orden que los datos toman en funcion de la edad y el nivel educativo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">frq</span>(datos_proc<span class="sc">$</span>prom_ing_educ)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>x &lt;integer&gt; 
# total N=37040 valid N=37040 mean=604126.06 sd=347252.39

  Value |     N | Raw % | Valid % | Cum. %
------------------------------------------
 343654 | 10407 | 28.10 |   28.10 |  28.10
 344195 |  1122 |  3.03 |    3.03 |  31.13
 499628 | 17608 | 47.54 |   47.54 |  78.66
 965030 |  3469 |  9.37 |    9.37 |  88.03
1366135 |  4121 | 11.13 |   11.13 |  99.15
2042345 |   313 |  0.85 |    0.85 | 100.00
   &lt;NA&gt; |     0 |  0.00 |    &lt;NA&gt; |   &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sjt.xtab</span>(datos_proc<span class="sc">$</span>educa, datos_proc<span class="sc">$</span>sexo_edad,</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">show.summary =</span> T,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">show.col.prc =</span> T,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">show.row.prc =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table style="border-collapse:collapse; border:none;">
 <tbody><tr>
 <th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; border-bottom:1px solid;" rowspan="2">educa</th>
 <th style="border-top:double; text-align:center; font-style:italic; font-weight:normal;" colspan="6">sexo_edad</th>
 <th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; font-weight:bolder; font-style:italic; border-bottom:1px solid; " rowspan="2">Total</th>
 </tr>
 
<tr>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">Hombre adulto</td>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">Hombre joven</td>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">Hombre mayor</td>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">Mujer adulta</td>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">Mujer joven</td>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">Mujer mayor</td>
 </tr>
 
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">Educacion Basica</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">2413</span><br><span style="color:#333399;">23.2&nbsp;%</span><br><span style="color:#339933;">35.7&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">1182</span><br><span style="color:#333399;">11.4&nbsp;%</span><br><span style="color:#339933;">14&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">1104</span><br><span style="color:#333399;">10.6&nbsp;%</span><br><span style="color:#339933;">57.3&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">3001</span><br><span style="color:#333399;">28.8&nbsp;%</span><br><span style="color:#339933;">39.4&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">1124</span><br><span style="color:#333399;">10.8&nbsp;%</span><br><span style="color:#339933;">13&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">1583</span><br><span style="color:#333399;">15.2&nbsp;%</span><br><span style="color:#339933;">63.2&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">10407</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">29&nbsp;%</span></td> 
</tr>
 
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">Educacion Media</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">3060</span><br><span style="color:#333399;">17.4&nbsp;%</span><br><span style="color:#339933;">45.2&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">4708</span><br><span style="color:#333399;">26.7&nbsp;%</span><br><span style="color:#339933;">55.8&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">612</span><br><span style="color:#333399;">3.5&nbsp;%</span><br><span style="color:#339933;">31.8&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">3441</span><br><span style="color:#333399;">19.5&nbsp;%</span><br><span style="color:#339933;">45.2&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">5026</span><br><span style="color:#333399;">28.5&nbsp;%</span><br><span style="color:#339933;">58&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">761</span><br><span style="color:#333399;">4.3&nbsp;%</span><br><span style="color:#339933;">30.4&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">17608</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">49&nbsp;%</span></td> 
</tr>
 
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">Postgrado</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">81</span><br><span style="color:#333399;">25.9&nbsp;%</span><br><span style="color:#339933;">1.2&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">78</span><br><span style="color:#333399;">24.9&nbsp;%</span><br><span style="color:#339933;">0.9&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">16</span><br><span style="color:#333399;">5.1&nbsp;%</span><br><span style="color:#339933;">0.8&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">57</span><br><span style="color:#333399;">18.2&nbsp;%</span><br><span style="color:#339933;">0.7&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">74</span><br><span style="color:#333399;">23.6&nbsp;%</span><br><span style="color:#339933;">0.9&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">7</span><br><span style="color:#333399;">2.2&nbsp;%</span><br><span style="color:#339933;">0.3&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">313</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">0.9&nbsp;%</span></td> 
</tr>
 
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">Superior Completa</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">894</span><br><span style="color:#333399;">21.7&nbsp;%</span><br><span style="color:#339933;">13.2&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">977</span><br><span style="color:#333399;">23.7&nbsp;%</span><br><span style="color:#339933;">11.6&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">147</span><br><span style="color:#333399;">3.6&nbsp;%</span><br><span style="color:#339933;">7.6&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">900</span><br><span style="color:#333399;">21.8&nbsp;%</span><br><span style="color:#339933;">11.8&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">1079</span><br><span style="color:#333399;">26.2&nbsp;%</span><br><span style="color:#339933;">12.4&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">124</span><br><span style="color:#333399;">3&nbsp;%</span><br><span style="color:#339933;">5&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">4121</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">11.5&nbsp;%</span></td> 
</tr>
 
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">Superior Incompleta</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">317</span><br><span style="color:#333399;">9.1&nbsp;%</span><br><span style="color:#339933;">4.7&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">1488</span><br><span style="color:#333399;">42.9&nbsp;%</span><br><span style="color:#339933;">17.6&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">48</span><br><span style="color:#333399;">1.4&nbsp;%</span><br><span style="color:#339933;">2.5&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">218</span><br><span style="color:#333399;">6.3&nbsp;%</span><br><span style="color:#339933;">2.9&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">1368</span><br><span style="color:#333399;">39.4&nbsp;%</span><br><span style="color:#339933;">15.8&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">30</span><br><span style="color:#333399;">0.9&nbsp;%</span><br><span style="color:#339933;">1.2&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">3469</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">9.7&nbsp;%</span></td> 
</tr>
 
<tr> 
<td style="padding:0.2cm;  border-bottom:double; font-weight:bolder; font-style:italic; text-align:left; vertical-align:middle;">Total</td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">6765</span><br><span style="color:#333399;">18.8&nbsp;%</span><br><span style="color:#339933;">100&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">8433</span><br><span style="color:#333399;">23.5&nbsp;%</span><br><span style="color:#339933;">100&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">1927</span><br><span style="color:#333399;">5.4&nbsp;%</span><br><span style="color:#339933;">100&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">7617</span><br><span style="color:#333399;">21.2&nbsp;%</span><br><span style="color:#339933;">100&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">8671</span><br><span style="color:#333399;">24.1&nbsp;%</span><br><span style="color:#339933;">100&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">2505</span><br><span style="color:#333399;">7&nbsp;%</span><br><span style="color:#339933;">100&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">35918</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">100&nbsp;%</span></td> 
</tr>
<tr><td style="text-align:right; font-size:0.9em; font-style:italic; padding:0.2cm;" colspan="8">χ<sup>2</sup>=5795.297 · df=20 · Cramer's V=0.201 · p=0.000</td> 
</tr>
 
</tbody></table>
</div>
</div>
<p>Como podemos apreciar en la primera tabla la educacion media posee un porcentaje de 49% de la poblacion total que ha terminado la educacion media, es decir, el otro 51% de los datos se encunetran repartidos entre los distintos niveles edicativos dejando como siguiente segmento predominante a la educacion basica con un 29% del total de la poblacion. El dato interesante que podemos observar en la primera tabla es que solo un 0,9% de la poblacion estudio y completo el postgrado y un 11,5% completo la educacion superior dejando solo un 9,7% de la poblacion con la educacion superior incompleta.</p>
</section>
<section id="tabla-1.2" class="level3">
<h3 class="anchored" data-anchor-id="tabla-1.2">Tabla 1.2</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sjt.xtab</span>(datos_proc<span class="sc">$</span>educa, datos_proc<span class="sc">$</span>sexo,</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">show.summary =</span> T,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">show.col.prc =</span> T,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">show.row.prc =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table style="border-collapse:collapse; border:none;">
 <tbody><tr>
 <th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; border-bottom:1px solid;" rowspan="2">educa</th>
 <th style="border-top:double; text-align:center; font-style:italic; font-weight:normal;" colspan="2">sexo</th>
 <th style="border-top:double; text-align:center; font-style:italic; font-weight:normal; font-weight:bolder; font-style:italic; border-bottom:1px solid; " rowspan="2">Total</th>
 </tr>
 
<tr>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">Hombre</td>
 <td style="border-bottom:1px solid; text-align:center; padding:0.2cm;">Mujer</td>
 </tr>
 
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">Educacion Basica</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">4699</span><br><span style="color:#333399;">45.2&nbsp;%</span><br><span style="color:#339933;">27.4&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">5708</span><br><span style="color:#333399;">54.8&nbsp;%</span><br><span style="color:#339933;">30.4&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">10407</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">29&nbsp;%</span></td> 
</tr>
 
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">Educacion Media</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">8380</span><br><span style="color:#333399;">47.6&nbsp;%</span><br><span style="color:#339933;">48.9&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">9228</span><br><span style="color:#333399;">52.4&nbsp;%</span><br><span style="color:#339933;">49.1&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">17608</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">49&nbsp;%</span></td> 
</tr>
 
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">Postgrado</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">175</span><br><span style="color:#333399;">55.9&nbsp;%</span><br><span style="color:#339933;">1&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">138</span><br><span style="color:#333399;">44.1&nbsp;%</span><br><span style="color:#339933;">0.7&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">313</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">0.9&nbsp;%</span></td> 
</tr>
 
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">Superior Completa</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">2018</span><br><span style="color:#333399;">49&nbsp;%</span><br><span style="color:#339933;">11.8&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">2103</span><br><span style="color:#333399;">51&nbsp;%</span><br><span style="color:#339933;">11.2&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">4121</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">11.5&nbsp;%</span></td> 
</tr>
 
<tr> 
<td style="padding:0.2cm;  text-align:left; vertical-align:middle;">Superior Incompleta</td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">1853</span><br><span style="color:#333399;">53.4&nbsp;%</span><br><span style="color:#339933;">10.8&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center; "><span style="color:black;">1616</span><br><span style="color:#333399;">46.6&nbsp;%</span><br><span style="color:#339933;">8.6&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;  "><span style="color:black;">3469</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">9.7&nbsp;%</span></td> 
</tr>
 
<tr> 
<td style="padding:0.2cm;  border-bottom:double; font-weight:bolder; font-style:italic; text-align:left; vertical-align:middle;">Total</td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">17125</span><br><span style="color:#333399;">47.7&nbsp;%</span><br><span style="color:#339933;">100&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">18793</span><br><span style="color:#333399;">52.3&nbsp;%</span><br><span style="color:#339933;">100&nbsp;%</span></td>
<td style="padding:0.2cm; text-align:center;   border-bottom:double;"><span style="color:black;">35918</span><br><span style="color:#333399;">100&nbsp;%</span><br><span style="color:#339933;">100&nbsp;%</span></td> 
</tr>
<tr><td style="text-align:right; font-size:0.9em; font-style:italic; padding:0.2cm;" colspan="4">χ<sup>2</sup>=83.705 · df=4 · Cramer's V=0.048 · p=0.000</td> 
</tr>
 
</tbody></table>
</div>
</div>
<p>Asimismo en la segunda tabla la variable sexo y nivel educativo nos permiten ver con mayor facilidad la brecha educacional entre generos y lo sorprendente es que por supuesto existe una diferencia entre estos, más no representa una brecha considerable, pero la brecha existente pone a las mujeres como el genero con mayor porcentaje de niveles educativos completados a diferencia de los hombres que predominan en la educacion superior incompleta.</p>
</section>
<section id="grafico-2.1" class="level3">
<h3 class="anchored" data-anchor-id="grafico-2.1">Grafico 2.1</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>graph3 <span class="ot">&lt;-</span> datos_proc <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> educa, <span class="at">fill =</span> sexo)) <span class="sc">+</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Nivel educativo"</span>) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Cantidad"</span>) <span class="sc">+</span> </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill=</span><span class="st">"Sexo"</span>)<span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">'Hombre'</span>,<span class="st">'Mujer'</span>))</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>graph3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="preparacion_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>En las siguientes visulizaciones buscaremos evidenciar los datos correlacionados entre las variables promedio de ingreso y nivel educativo.</p>
</section>
<section id="tabla-1.4" class="level3">
<h3 class="anchored" data-anchor-id="tabla-1.4">Tabla 1.4</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>tabla <span class="ot">=</span> <span class="fu">unique</span>(datos_proc[, <span class="fu">c</span>(<span class="st">"educa"</span>, <span class="st">"prom_ing_educ"</span>)])</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>tabla</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  educa               prom_ing_educ
  &lt;chr&gt;                       &lt;int&gt;
1 Superior Completa         1366135
2 Educacion Basica           343654
3 Educacion Media            499628
4 Superior Incompleta        965030
5 Postgrado                 2042345
6 &lt;NA&gt;                       344195</code></pre>
</div>
</div>
<p>Como bien podemos apreciar en el grafico, las variables nivel educativo (educa) y promedio de sueldos (prom_ing_educ) los valores se presentan en aumento en funcion del nivel educativo, este patrón sugiere una correlación positiva entre la educación y el salario, es decir, a mayor nivel educativo, mayor es el ingreso salarial.</p>
<p>Para visualizar los siguientes datos se ha construido un grafico de barras para esclarecer y facilitar la informacion.</p>
</section>
<section id="grafico-2.2-promedio-ingreso-y-nivel-educativo" class="level3">
<h3 class="anchored" data-anchor-id="grafico-2.2-promedio-ingreso-y-nivel-educativo">Grafico 2.2 (Promedio ingreso y Nivel Educativo)</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tabla, <span class="fu">aes</span>(<span class="at">x =</span> prom_ing_educ, <span class="at">y =</span> educa)) <span class="sc">+</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"skyblue"</span>) <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> prom_ing_educ), <span class="at">hjust =</span> <span class="fl">1.5</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Promedio de Sueldos"</span>, <span class="at">y =</span> <span class="st">"Nivel Educativo"</span>) <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="preparacion_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="resultados" class="level2">
<h2 class="anchored" data-anchor-id="resultados">Resultados</h2>
<p>En este estudio, se observa una relación significativa entre el nivel educativo y el ingreso salarial. Los datos muestran consistentemente que a medida que aumenta el nivel educativo de un individuo, su ingreso salarial tiende a incrementarse.</p>
<p>Es decir que podemos comprobar en funcion de esta base de datos que para el año 2006 la educacion y/o el nivel educativo si representaba una variable fundamental para la movilidad social, puesto que como se pudo apreciar el nivel educativo posee una relacion directa con el salario perceibido por las personas, por tanto la educacion si posee una importancia sustancial planteada en la hipotesis, en este caso en la region metropolitana aquellas personas que poseen un nivel educativo para el año 2006 si podian experimentar la ovilidad social y en este caso de manera ascendente, entre las clases sociales.</p>
<p>La pregunta que queda en juego con esta investigacion es si acaso esta cualidad ascendente propia del nivel educativo se ha mantenido en el tiempo o si acaso esta ya ha perdido su valor respecto a la capacidad de jercer o no la movilidad social.</p>
<p>En resumen, los datos recopilados sugieren que existe una relación positiva entre el nivel educativo y el ingreso salarial, lo que indica que la educacion para el año 2006 representaba una herramineta para ascender en la primaide social.</p>

</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-eriksonHasSocialMobility2010" class="csl-entry" role="listitem">
Erikson, Robert, and John H. Goldthorpe. 2010. <span>“Has Social Mobility in <span>Britain</span> Decreased? <span>Reconciling</span> Divergent Findings on Income and Class Mobility.”</span> <em>The British Journal of Sociology</em> 61 (2): 211–30. <a href="https://doi.org/10.1111/j.1468-4446.2010.01310.x">https://doi.org/10.1111/j.1468-4446.2010.01310.x</a>.
</div>
<div id="ref-erzsebetbukodiEducationalAttainmentRelative2016" class="csl-entry" role="listitem">
Erzsébet Bukodi, Erzsébet Bukodi, John H. Goldthorpe, and John H. Goldthorpe. 2016. <span>“Educational Attainment - Relative or Absolute - as a Mediator of Intergenerational Class Mobility in <span>Britain</span>.”</span> <em>Research in Social Stratification and Mobility</em> 43 (43): 5–15. <a href="https://doi.org/10.1016/j.rssm.2015.01.003">https://doi.org/10.1016/j.rssm.2015.01.003</a>.
</div>
<div id="ref-erzsebetbukodiMobilityProblemBritain2015" class="csl-entry" role="listitem">
Erzsébet Bukodi, Erzsébet Bukodi, John H. Goldthorpe, John H. Goldthorpe, John H. Goldthorpe, Lorraine Waller, Lorraine Waller, Jouni Kuha, and Jouni Kuha. 2015. <span>“The Mobility Problem in <span>Britain</span>: New Findings from the Analysis of Birth Cohort Data.”</span> <em>British Journal of Sociology</em> 66 (1): 93–117. <a href="https://doi.org/10.1111/1468-4446.12096">https://doi.org/10.1111/1468-4446.12096</a>.
</div>
<div id="ref-johnh.goldthorpeTrendsIntergenerationalClass2004" class="csl-entry" role="listitem">
John H. Goldthorpe, John H. Goldthorpe, John H. Goldthorpe, and John H. Goldthorpe. 2004. <span>“Trends in <span>Intergenerational Class Mobility</span> in <span>Britain</span> in the <span>Late Twentieth Century</span>,”</span> August, 195–224. <a href="https://doi.org/10.1093/0199258457.003.0008">https://doi.org/10.1093/0199258457.003.0008</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>